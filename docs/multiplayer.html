<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚ôüÔ∏è Chess Multiplayer + Analysis</title>
    <link rel="stylesheet" href="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.css">
    <link rel="stylesheet" href="multiplayer.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>‚ôüÔ∏è Chess Multiplayer</h1>
            <div class="theme-selector">
                <button class="theme-btn" data-theme="dark" title="–¢–µ–º–Ω–∞—è —Ç–µ–º–∞">üåô</button>
                <button class="theme-btn active" data-theme="lichess" title="Lichess">‚ôüÔ∏è</button>
                <button class="theme-btn" data-theme="light" title="–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞">‚òÄÔ∏è</button>
            </div>
        </div>
        <p class="subtitle">–ò–≥—Ä–∞–π –æ–Ω–ª–∞–π–Ω + –∞–Ω–∞–ª–∏–∑ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</p>
        
        <div class="main-layout">
            <!-- –î–æ—Å–∫–∞ -->
            <div class="board-section">
                <div class="board-controls">
                    <button id="fullscreenBtn" class="icon-btn" title="–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º">‚õ∂</button>
                    <button id="flipBoardBtn" class="icon-btn" title="–ü–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç—å –¥–æ—Å–∫—É">üîÑ</button>
                    <button id="settingsBtn" class="icon-btn" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">‚öôÔ∏è</button>
                </div>
                
                <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
                <div id="settingsPanel" class="settings-panel hidden">
                    <h4>–°—Ç–∏–ª—å —Ñ–∏–≥—É—Ä</h4>
                    <div class="piece-style-selector">
                        <button class="piece-style-btn active" data-style="wikipedia">–ö–ª–∞—Å—Å–∏–∫–∞</button>
                        <button class="piece-style-btn" data-style="alpha">–ê–ª—å—Ñ–∞</button>
                        <button class="piece-style-btn" data-style="uscf">USCF</button>
                        <button class="piece-style-btn" data-style="staunty">Staunty</button>
                        <button class="piece-style-btn" data-style="pirouetti">Pirouetti</button>
                        <button class="piece-style-btn" data-style="chessnut">Chessnut</button>
                        <button class="piece-style-btn" data-style="letter">–ë—É–∫–≤—ã</button>
                        <button class="piece-style-btn" data-style="shapes">–§–∏–≥—É—Ä—ã</button>
                    </div>
                    
                    <h4>–¶–≤–µ—Ç –¥–æ—Å–∫–∏</h4>
                    <div class="board-color-selector">
                        <button class="board-color-btn active" data-color="brown" style="background: linear-gradient(135deg, #f0d9b5 50%, #b58863 50%)"></button>
                        <button class="board-color-btn" data-color="blue" style="background: linear-gradient(135deg, #dee3e6 50%, #8ca2ad 50%)"></button>
                        <button class="board-color-btn" data-color="green" style="background: linear-gradient(135deg, #ffffdd 50%, #86a666 50%)"></button>
                        <button class="board-color-btn" data-color="purple" style="background: linear-gradient(135deg, #e8e9b7 50%, #9f90b0 50%)"></button>
                        <button class="board-color-btn" data-color="wood" style="background: linear-gradient(135deg, #d4a574 50%, #8b5a3c 50%)"></button>
                    </div>
                </div>
                
                <div id="board" class="chessboard"></div>
                
                <div class="time-control">
                    <h3>‚è±Ô∏è –ö–æ–Ω—Ç—Ä–æ–ª—å –≤—Ä–µ–º–µ–Ω–∏</h3>
                    <div class="time-buttons">
                        <button class="time-btn" data-time="60">‚ö° Bullet (1 –º–∏–Ω)</button>
                        <button class="time-btn" data-time="180">üèÉ Blitz (3 –º–∏–Ω)</button>
                        <button class="time-btn active" data-time="600">üéØ Rapid (10 –º–∏–Ω)</button>
                        <button class="time-btn" data-time="1800">üê¢ Classical (30 –º–∏–Ω)</button>
                        <button class="time-btn" data-time="0">‚ôæÔ∏è –ë–µ–∑ –≤—Ä–µ–º–µ–Ω–∏</button>
                    </div>
                </div>

                <div class="controls">
                    <button id="createGameBtn" class="btn btn-primary">üéÆ –°–æ–∑–¥–∞—Ç—å –∏–≥—Ä—É</button>
                    <button id="joinGameBtn" class="btn btn-success">üîó –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>
                    <button id="playBotBtn" class="btn btn-bot">ü§ñ –ò–≥—Ä–∞—Ç—å —Å –±–æ—Ç–æ–º</button>
                    <button id="puzzleBtn" class="btn btn-puzzle">üß© –ó–∞–¥–∞—á–∏</button>
                    <button id="hintBtn" class="btn btn-info" style="display:none;">üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞</button>
                    <button id="clearBtn" class="btn btn-secondary">ÔøΩÔ∏è –û—á–∏—Å—Ç–∏–í—Ç—å</button>
                    <button id="analyzeBtn" class="btn btn-warning">üîç –ê–Ω–∞–ª–∏–∑ –í–´–ö–õ</button>
                    <button id="resignBtn" class="btn btn-danger" style="display:none;">üè≥Ô∏è –°–¥–∞—Ç—å—Å—è</button>
                </div>

                <div class="game-info">
                    <div class="status-box">
                        <div id="gameStatus">–°–æ–∑–¥–∞–π—Ç–µ –∏–ª–∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç–µ—Å—å –∫ –∏–≥—Ä–µ</div>
                        <div id="gameLink" class="game-link hidden"></div>
                    </div>
                    
                    <div class="players">
                        <div class="player white">
                            <span class="player-icon">‚ôî</span>
                            <div class="player-info">
                                <span id="whitePlayer">–ë–µ–ª—ã–µ</span>
                                <div class="timer" id="whiteTimer">10:00</div>
                            </div>
                        </div>
                        <div class="player black">
                            <span class="player-icon">‚ôö</span>
                            <div class="player-info">
                                <span id="blackPlayer">–ß–µ—Ä–Ω—ã–µ</span>
                                <div class="timer" id="blackTimer">10:00</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –ê–Ω–∞–ª–∏–∑ -->
            <div class="analysis-section">
                <div class="eval-bar-container">
                    <div class="eval-bar">
                        <div id="evalBarWhite" class="eval-bar-white"></div>
                        <div class="eval-score" id="evalScore">0.0</div>
                    </div>
                </div>

                <div class="analysis-info">
                    <h3>üìä –ê–Ω–∞–ª–∏–∑ –ø–æ–∑–∏—Ü–∏–∏</h3>
                    <div id="analysisStatus">–í–∫–ª—é—á–∏—Ç–µ –∞–Ω–∞–ª–∏–∑</div>
                    <div id="moveQuality" class="move-quality"></div>
                </div>

                <div class="chat-section">
                    <h3>üí¨ –ß–∞—Ç</h3>
                    <div id="chatMessages" class="chat-messages"></div>
                    <div class="chat-input">
                        <input type="text" id="chatInput" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ...">
                        <button id="sendBtn" class="btn">üì§</button>
                    </div>
                </div>

                <div class="quick-chat">
                    <h3>üí¨ –ë—ã—Å—Ç—Ä—ã–π —á–∞—Ç</h3>
                    <div class="quick-chat-buttons">
                        <button class="quick-chat-btn" data-msg="–•–æ—Ä–æ—à–∞—è –∏–≥—Ä–∞!">üëç –•–æ—Ä–æ—à–∞—è –∏–≥—Ä–∞</button>
                        <button class="quick-chat-btn" data-msg="–°–ø–∞—Å–∏–±–æ!">üôè –°–ø–∞—Å–∏–±–æ</button>
                        <button class="quick-chat-btn" data-msg="–£–¥–∞—á–∏!">üçÄ –£–¥–∞—á–∏</button>
                        <button class="quick-chat-btn" data-msg="–û—Ç–ª–∏—á–Ω—ã–π —Ö–æ–¥!">‚≠ê –û—Ç–ª–∏—á–Ω—ã–π —Ö–æ–¥</button>
                        <button class="quick-chat-btn" data-msg="–ù–∏—á—å—è?">ü§ù –ù–∏—á—å—è?</button>
                        <button class="quick-chat-btn" data-msg="–ï—â—ë –ø–∞—Ä—Ç–∏—é?">üîÑ –ï—â—ë –ø–∞—Ä—Ç–∏—é?</button>
                    </div>
                </div>

                <div class="moves-history">
                    <h3>–ò—Å—Ç–æ—Ä–∏—è –ø–∞—Ä—Ç–∏–∏</h3>
                    <div id="movesList"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.10.3/chess.min.js"></script>
    <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
    <script src="multiplayer.js"></script>
    <script src="puzzles.js"></script>
    <script src="supabase-multiplayer.js"></script>
</body>
</html>
